@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@500&display=swap');

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: var(--font-primary);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

:root {
  /* Typography */
  --font-primary: 'Inter', -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
  --font-mono: 'JetBrains Mono', monospace;

  /* Font sizes (desktop default, mobile overridden in media query) */
  --font-size-small: 0.85rem;
  --font-size-base: 1rem;
  --font-size-large: 1.25rem;
  --font-size-xlarge: 1.75rem;
  --font-size-huge: 3.2rem;

  /* Line heights */
  --line-height-tight: 1.2;
  --line-height-normal: 1.6;

  /* Font weights */
  --font-weight-normal: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;

  /* Light theme 1 (default) */
  --color-bg-primary: #f8f9fa;
  --color-bg-secondary: #fbfbfb;
  --color-bg-tertiary: #e9ecef;
  --color-bg-hover: rgba(0, 0, 0, 0.05);
  --color-bg-active: rgba(0, 0, 0, 0.1);
  --color-bg-card: rgba(64, 16, 0, 0.03);
  --color-bg-table-even: rgba(0, 0, 0, 0.02);
  --color-bg-table-hover: rgba(0, 0, 0, 0.05);

  --color-text-primary: #212529;
  --color-text-secondary: #6c757d;
  --color-text-bright: #33393f;

  --color-border: rgba(0, 0, 0, 0.1);
  --color-border-hover: rgba(0, 0, 0, 0.2);

  --color-primary: #4361ee;
  --color-primary-hover: #3651d4;

  --color-grade-excellent: #4361ee;
  --color-grade-great: #005e0d;
  --color-grade-good: #029f21;
  --color-grade-fair: #eba503;
  --color-grade-bad: #e35b00;
  --color-grade-horrible: #8f0b04;

  --color-overlay: rgba(0, 0, 0, 0.2);
  --color-tooltip-bg: rgba(0, 0, 0, 0.8);
  --color-box-shadow: rgba(0, 0, 0, 0.1);
  --color-gradient-start: #4361ee;
  --color-gradient-end: #7209b7;
  --color-gradient-button-start: #4361ee;
  --color-gradient-button-end: #3730a3;
  --color-gradient-button-hover-start: #3651d4;
  --color-gradient-button-hover-end: #2b2589;
  --color-scrollbar-thumb: rgba(0, 0, 0, 0.2);
  --color-scrollbar-thumb-hover: rgba(0, 0, 0, 0.3);
}

html {
  scrollbar-gutter: stable;
  font-size: 16px;
}

body {
  padding: max(12px, 1vw);
  background-color: var(--color-bg-primary);
  color: var(--color-text-primary);
  line-height: var(--line-height-normal);
  min-height: 100vh;
  min-height: 100dvh;
  overflow-x: hidden;
  text-rendering: optimizeLegibility;
  font-size: var(--font-size-base);
}

h1 {
  font-size: var(--font-size-huge);
  font-weight: var(--font-weight-bold);
  color: var(--color-text-bright);
  letter-spacing: -0.5px;
  line-height: var(--line-height-tight);
  margin: 0;
}

h2 {
  font-size: var(--font-size-large);
  font-weight: var(--font-weight-semibold);
  line-height: var(--line-height-tight);
}

h3 {
  font-size: var(--font-size-base);
  font-weight: var(--font-weight-semibold);
  line-height: var(--line-height-tight);
}

h4 {
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-semibold);
  line-height: var(--line-height-tight);
}

.monospace {
  font-family: var(--font-mono);
}

.home-link {
  text-decoration: none;
  color: inherit;
  cursor: pointer;
  transition: opacity 0.2s ease;
}

.home-link:hover {
  color: inherit;
  opacity: 0.9;
}

button, a, select, input {
  touch-action: manipulation;
}

::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

::-webkit-scrollbar-track {
  background: var(--color-bg-hover);
  border-radius: 5px;
}

::-webkit-scrollbar-thumb {
  background: var(--color-scrollbar-thumb);
  border-radius: 5px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--color-scrollbar-thumb-hover);
}

@supports(padding: max(0px)) {
  body {
    padding-left: max(12px, env(safe-area-inset-left));
    padding-right: max(12px, env(safe-area-inset-right));
  }
}

.credit {
  position: absolute;
  top: 20px;
  right: 20px;
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  gap: 10px;
  z-index: 1000;
}

@media (max-width: 768px) {
  :root {
    --font-size-small: 0.6rem;
    --font-size-base: 0.7rem;
    --font-size-large: 0.95rem;
    --font-size-xlarge: 1.25rem;
    --font-size-huge: 2rem;
  }
}

/* Dark theme 1 */
html[data-theme='dark-1'] {
  --color-bg-primary: #0d1117;
  --color-bg-secondary: #1d2029;
  --color-bg-tertiary: #1d242f;
  --color-bg-hover: rgba(255, 255, 255, 0.05);
  --color-bg-active: rgba(255, 255, 255, 0.1);
  --color-bg-card: rgba(255, 255, 255, 0.02);
  --color-bg-table-even: rgba(255, 255, 255, 0.02);
  --color-bg-table-hover: rgba(255, 255, 255, 0.05);

  --color-text-primary: #e9e9e9;
  --color-text-secondary: #8b949e;
  --color-text-bright: #ffffff;

  --color-border: rgba(255, 255, 255, 0.1);
  --color-border-hover: rgba(255, 255, 255, 0.2);

  --color-primary: #4361ee;
  --color-primary-hover: #3651d4;

  --color-grade-excellent: #4361ee;
  --color-grade-great: #009c1f;
  --color-grade-good: #79ff00;
  --color-grade-fair: #ffef00;
  --color-grade-bad: #f0883e;
  --color-grade-horrible: #f85149;

  --color-overlay: rgba(0, 0, 0, 0.5);
  --color-tooltip-bg: rgba(0, 0, 0, 0.9);
  --color-box-shadow: rgba(0, 0, 0, 0.2);
  --color-gradient-start: #4361ee;
  --color-gradient-end: #7209b7;
  --color-gradient-button-start: #4361ee;
  --color-gradient-button-end: #3730a3;
  --color-gradient-button-hover-start: #3651d4;
  --color-gradient-button-hover-end: #2b2589;
  --color-scrollbar-thumb: rgba(255, 255, 255, 0.2);
  --color-scrollbar-thumb-hover: rgba(255, 255, 255, 0.3);
}

/* Light theme 2 (Reef) */
html[data-theme='light-2'] {
  --color-bg-primary: #e6f5fb;
  --color-bg-secondary: #f0faff;
  --color-bg-tertiary: #dbf0fa;
  --color-bg-hover: rgba(0, 149, 199, 0.05);
  --color-bg-active: rgba(0, 149, 199, 0.1);
  --color-bg-card: rgba(0, 149, 199, 0.04);
  --color-bg-table-even: rgba(141, 218, 247, 0.12);
  --color-bg-table-hover: rgba(141, 218, 247, 0.2);

  --color-text-primary: #093952;
  --color-text-secondary: #326585;
  --color-text-bright: #01384e;

  --color-border: rgba(0, 149, 199, 0.15);
  --color-border-hover: rgba(0, 149, 199, 0.25);

  --color-primary: #78ceef;
  --color-primary-hover: #0999bc;

  --color-grade-excellent: #1a4ed0;
  --color-grade-great: #089759;
  --color-grade-good: #6bcc6e;
  --color-grade-fair: #f49d41;
  --color-grade-bad: #ec653c;
  --color-grade-horrible: #771e17;

  --color-overlay: rgba(9, 57, 82, 0.3);
  --color-tooltip-bg: rgba(9, 57, 82, 0.9);
  --color-box-shadow: rgba(9, 57, 82, 0.1);
  --color-gradient-start: #0095c7;
  --color-gradient-end: #5fd9f3;
  --color-gradient-button-start: #0095c7;
  --color-gradient-button-end: #007eac;
  --color-gradient-button-hover-start: #00add8;
  --color-gradient-button-hover-end: #0089be;
  --color-scrollbar-thumb: rgba(0, 149, 199, 0.2);
  --color-scrollbar-thumb-hover: rgba(0, 149, 199, 0.3);
}

/* Dark theme 2 (Grape) */
html[data-theme='dark-2'] {
  --color-bg-primary: #291f35;
  --color-bg-secondary: #322642;
  --color-bg-tertiary: #3d304a;
  --color-bg-hover: rgba(255, 160, 100, 0.05);
  --color-bg-active: rgba(255, 160, 100, 0.1);
  --color-bg-card: rgba(255, 100, 255, 0.02);
  --color-bg-table-even: rgba(255, 160, 100, 0.03);
  --color-bg-table-hover: rgba(255, 160, 100, 0.05);

  --color-text-primary: #f9ecde;
  --color-text-secondary: #eab7a2;
  --color-text-bright: #f9ecde;

  --color-border: rgba(255, 160, 100, 0.1);
  --color-border-hover: rgba(255, 160, 100, 0.2);

  --color-primary: #a951dc;
  --color-primary-hover: #7243c8;

  --color-grade-excellent: #a744cf;
  --color-grade-great: #21891c;
  --color-grade-good: #98c773;
  --color-grade-fair: #fcbd49;
  --color-grade-bad: #cb7117;
  --color-grade-horrible: #9c3523;

  --color-overlay: rgba(0, 0, 0, 0.5);
  --color-tooltip-bg: rgba(0, 0, 0, 0.9);
  --color-box-shadow: rgba(0, 0, 0, 0.2);
  --color-gradient-start: #da77ec;
  --color-gradient-end: #ac4dbc;
  --color-gradient-button-start: #da77ec;
  --color-gradient-button-end: #ac4dbc;
  --color-gradient-button-hover-start: #da77ec;
  --color-gradient-button-hover-end: #9744a8;
  --color-scrollbar-thumb: rgba(255, 160, 100, 0.2);
  --color-scrollbar-thumb-hover: rgba(255, 160, 100, 0.3);
}

/* Light theme 3 (Meadow) */
html[data-theme='light-3'] {
  --color-bg-primary: #f0f5ef;
  --color-bg-secondary: #f8fdf7;
  --color-bg-tertiary: #e6eee4;
  --color-bg-hover: rgba(76, 152, 65, 0.05);
  --color-bg-active: rgba(76, 152, 65, 0.1);
  --color-bg-card: rgba(76, 152, 65, 0.02);
  --color-bg-table-even: rgba(180, 219, 128, 0.12);
  --color-bg-table-hover: rgba(180, 219, 128, 0.2);

  --color-text-primary: #224022;
  --color-text-secondary: #4a734a;
  --color-text-bright: #0a4e14;

  --color-border: rgba(76, 152, 65, 0.15);
  --color-border-hover: rgba(76, 152, 65, 0.25);

  --color-primary: #489b58;
  --color-primary-hover: #47a93a;

  --color-grade-excellent: #2a507c;
  --color-grade-great: #2f8136;
  --color-grade-good: #8bc34a;
  --color-grade-fair: #dca603;
  --color-grade-bad: #ff7043;
  --color-grade-horrible: #b71513;

  --color-overlay: rgba(34, 64, 34, 0.3);
  --color-tooltip-bg: rgba(34, 64, 34, 0.9);
  --color-box-shadow: rgba(34, 64, 34, 0.1);
  --color-gradient-start: #3a8e30;
  --color-gradient-end: #8bc34a;
  --color-gradient-button-start: #3a8e30;
  --color-gradient-button-end: #2d6f25;
  --color-gradient-button-hover-start: #47a93a;
  --color-gradient-button-hover-end: #377e2d;
  --color-scrollbar-thumb: rgba(76, 152, 65, 0.2);
  --color-scrollbar-thumb-hover: rgba(76, 152, 65, 0.3);
}

/* Dark theme 3 (Galaxy) */
html[data-theme='dark-3'] {
  --color-bg-primary: #080f1b;
  --color-bg-secondary: #0c1623;
  --color-bg-tertiary: #17263a;
  --color-bg-hover: rgba(74, 116, 158, 0.05);
  --color-bg-active: rgba(74, 116, 158, 0.1);
  --color-bg-card: rgba(86, 136, 186, 0.03);
  --color-bg-table-even: rgba(74, 116, 158, 0.03);
  --color-bg-table-hover: rgba(74, 116, 158, 0.06);

  --color-text-primary: #c7d6ea;
  --color-text-secondary: #8da2c0;
  --color-text-bright: #d1e2f2;

  --color-border: rgba(74, 116, 158, 0.15);
  --color-border-hover: rgba(74, 116, 158, 0.25);

  --color-primary: #4085ca;
  --color-primary-hover: #5f86af;

  --color-grade-excellent: #1770c9;
  --color-grade-great: #319153;
  --color-grade-good: #99da76;
  --color-grade-fair: #e0c943;
  --color-grade-bad: #f8a260;
  --color-grade-horrible: #a3332f;

  --color-overlay: rgba(11, 21, 38, 0.7);
  --color-tooltip-bg: rgba(11, 21, 38, 0.95);
  --color-box-shadow: rgba(0, 0, 0, 0.2);
  --color-gradient-start: #4a749e;
  --color-gradient-end: #2a4561;
  --color-gradient-button-start: #4a749e;
  --color-gradient-button-end: #2a4561;
  --color-gradient-button-hover-start: #5f86af;
  --color-gradient-button-hover-end: #355478;
  --color-scrollbar-thumb: rgba(74, 116, 158, 0.2);
  --color-scrollbar-thumb-hover: rgba(74, 116, 158, 0.3);
}
/* Light theme 4 (Sakura)*/
html[data-theme='light-4'] {
  --color-bg-primary: #fffbfc;
  --color-bg-secondary: #fffdfe;
  --color-bg-tertiary: #fff3f7;
  --color-bg-hover: rgba(252, 164, 191, 0.05);
  --color-bg-active: rgba(252, 164, 191, 0.1);
  --color-bg-card: rgba(247, 122, 160, 0.04);
  --color-bg-table-even: rgba(252, 164, 191, 0.04);
  --color-bg-table-hover: rgba(252, 164, 191, 0.08);

  --color-text-primary: #733146;
  --color-text-secondary: #a15576;
  --color-text-bright: #5e2839;

  --color-border: rgba(252, 164, 191, 0.15);
  --color-border-hover: rgba(252, 164, 191, 0.25);

  --color-primary: #fca4bf;
  --color-primary-hover: #f472b6;

  --color-grade-excellent: #4118be;
  --color-grade-great: #077a4c;
  --color-grade-good: #10b95f;
  --color-grade-fair: #f59e0b;
  --color-grade-bad: #e1471d;
  --color-grade-horrible: #aa1c1c;

  --color-overlay: rgba(115, 49, 70, 0.2);
  --color-tooltip-bg: rgba(115, 49, 70, 0.8);
  --color-box-shadow: rgba(115, 49, 70, 0.1);
  --color-gradient-start: #fca4bf;
  --color-gradient-end: #fde7ef;
  --color-gradient-button-start: #fca4bf;
  --color-gradient-button-end: #fb7eae;
  --color-gradient-button-hover-start: #f472b6;
  --color-gradient-button-hover-end: #e85d9f;
  --color-scrollbar-thumb: rgba(252, 164, 191, 0.2);
  --color-scrollbar-thumb-hover: rgba(252, 164, 191, 0.3);
}

/* Dark theme 4 (Forest) */
html[data-theme='dark-4'] {
  --color-bg-primary: #121212;
  --color-bg-secondary: #1e1e1e;
  --color-bg-tertiary: #2c2c2c;
  --color-bg-hover: rgba(255, 255, 255, 0.07);
  --color-bg-active: rgba(255, 255, 255, 0.12);
  --color-bg-card: rgba(255, 255, 255, 0.03);
  --color-bg-table-even: rgba(255, 255, 255, 0.04);
  --color-bg-table-hover: rgba(255, 255, 255, 0.08);

  --color-text-primary: #e0e0e0;
  --color-text-secondary: #a0a0a0;
  --color-text-bright: #ffffff;

  --color-border: rgba(255, 255, 255, 0.12);
  --color-border-hover: rgba(255, 255, 255, 0.24);

  --color-primary: #ff5f40;
  --color-primary-hover: #ff7a5f;

  --color-grade-excellent: #314fd2;
  --color-grade-great: #048b1f;
  --color-grade-good: #79ff00;
  --color-grade-fair: #ffef00;
  --color-grade-bad: #f0883e;
  --color-grade-horrible: #f85149;

  --color-overlay: rgba(0, 0, 0, 0.6);
  --color-tooltip-bg: rgba(30, 30, 30, 0.95);
  --color-box-shadow: rgba(0, 0, 0, 0.3);
  --color-gradient-start: #ff5f40;
  --color-gradient-end: #8338ec;
  --color-gradient-button-start: #ff5f40;
  --color-gradient-button-end: #fb8b24;
  --color-gradient-button-hover-start: #ff7a5f;
  --color-gradient-button-hover-end: #fd9e40;
  --color-scrollbar-thumb: rgba(255, 95, 64, 0.5);
  --color-scrollbar-thumb-hover: rgba(255, 95, 64, 0.7);
}