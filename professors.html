<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-SWRZCLZPTZ"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-SWRZCLZPTZ');
    </script>
    <meta name="description" content="UBCFinder - Search and compare UBC professors and their courses">
    <meta name="keywords" content="ubcfinder, UBC, University of British Columbia, professors, courses, grades">
    <link rel="icon" href="/favicon.ico">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UBCFinder - Professor Search</title>
    <link rel="stylesheet" href="/styles/main.css?v=1.2">

    <script>
        // Apply the saved theme immediately to prevent flickering
        (function () {
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme) {
                document.documentElement.setAttribute('data-theme', savedTheme);
            } else {
                // Use system preference as default
                const prefersDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches;
                const defaultTheme = prefersDarkMode ? 'dark' : 'light';
                document.documentElement.setAttribute('data-theme', defaultTheme);
            }
        })();
    </script>
</head>

<body>
    <button class="menu-button">‚ò∞ Filters</button>
    <div class="sidebar-overlay"></div>

    <!-- Info/Settings Dropdown -->
    <div class="info-settings-container">
        <button id="infoButton" class="info-button" aria-label="Settings">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="12" cy="12" r="3"></circle>
                <path
                    d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z">
                </path>
            </svg>
        </button>

        <div id="infoDropdown" class="info-dropdown">
            <!-- About and Insights -->
            <div class="dropdown-section">
                <a href="credits.html" class="dropdown-link">About UBCFinder</a>
                <a href="data.html" class="dropdown-link" style="margin-top: 8px;">Course Insights</a>

                <div class="dropdown-separator"></div>
                <!-- New search type select moved here from main interface -->
                <div class="search-type-container" style="margin-top: 12px;">
                    <h4>Search Type</h4>
                    <select id="searchTypeSelect" class="filter-select dropdown-select">
                        <option value="course">üîç Course Search</option>
                        <option value="professor" selected>üîç Professor Search</option>
                        <option value="program">üîç Program Search</option>
                    </select>
                </div>
            </div>

            <div class="dropdown-separator"></div>

            <!-- Campus Selection -->
            <div class="dropdown-section">
                <h4>Campus</h4>
                <div class="select-options-container">
                    <label class="select-option">
                        <input type="radio" name="campus" value="v" id="campusV" checked>
                        <span class="select-label">UBC-V</span>
                    </label>
                    <label class="select-option">
                        <input type="radio" name="campus" value="o" id="campusO">
                        <span class="select-label">UBC-O</span>
                    </label>
                </div>
            </div>

            <!-- Theme Selection -->

            <div class="dropdown-section">
                <h4>Theme</h4>
                <div class="select-options-grid">
                    <label class="select-option">
                        <input type="radio" name="theme" value="light-1" id="themeLight1">
                        <span class="select-label">‚òÄÔ∏è Light</span>
                    </label>
                    <label class="select-option">
                        <input type="radio" name="theme" value="dark-1" id="themeDark1">
                        <span class="select-label">üåò Dark</span>
                    </label>
                    <label class="select-option">
                        <input type="radio" name="theme" value="light-2" id="themeLight2">
                        <span class="select-label">ü´ß Reef</span>
                    </label>
                    <label class="select-option">
                        <input type="radio" name="theme" value="dark-2" id="themeDark2">
                        <span class="select-label">üçá Grape</span>
                    </label>
                    <label class="select-option">
                        <input type="radio" name="theme" value="light-3" id="themeLight3">
                        <span class="select-label">üå± Meadow</span>
                    </label>
                    <label class="select-option">
                        <input type="radio" name="theme" value="dark-3" id="themeDark3">
                        <span class="select-label">üõ∏ Galaxy</span>
                    </label>
                    <label class="select-option">
                        <input type="radio" name="theme" value="light-4" id="themeLight4">
                        <span class="select-label">üå∏ Sakura</span>
                    </label>
                    <label class="select-option">
                        <input type="radio" name="theme" value="dark-4" id="themeDark4">
                        <span class="select-label">üå≥ Forest</span>
                    </label>
                </div>
            </div>
        </div>
    </div>


    <div class="header-container">
        <h1>
            <a href="index.html" style="text-decoration: none; color: inherit; cursor: pointer;">UBCFinder</a>
        </h1>
    </div>

    <div class="page-container">
        <aside class="sidebar">

            <!-- Always visible filters -->
            <div class="filter-group">
                <div class="filters-row">
                    <div class="filter-section">
                        <h4>Year Level</h4>
                        <div id="yearLevelFilters" class="filter-container"></div>
                    </div>
                    <div class="filter-section">
                        <h4>Averages</h4>
                        <div id="averageFilters" class="filter-container"></div>
                    </div>
                </div>
            </div>

            <!-- Show more filters button -->
            <button type="button" class="show-more-filters" id="showMoreFilters">Show More Filters</button>

            <!-- Collapsible filters -->
            <div class="filter-group collapsible" id="collapsibleFilters">
                <div class="filters-row">
                    <div class="filter-section">
                        <h4>Faculties</h4>
                        <div id="facultyFilters" class="filter-container"></div>
                    </div>
                </div>
            </div>

            <button id="backToTop" class="back-to-top">Back to Top</button>
        </aside>

        <main class="main-content">
            <div class="control-panel">
                <input type="text" id="searchInput" class="search-input" placeholder="Search by professor name">
            </div>

            <div class="courses-header">
                <div class="courses-header-left">
                    <div class="total-courses">
                        Showing <span id="totalProfessors" class="value">--</span> professors
                    </div>
                </div>

                <div class="courses-header-right">
                    <select id="sortBy" class="filter-select">
                        <option value="students">Sort by Students ‚Üì</option>
                        <option value="students-asc">Sort by Students ‚Üë</option>
                        <option value="name">Sort by Name</option>
                        <option value="average">Sort by Average ‚Üì</option>
                        <option value="average-asc">Sort by Average ‚Üë</option>
                    </select>

                    <select id="sessionSelect" class="filter-select">
                        <option value="2023W">2023W</option>
                        <option value="2023S">2023S</option>
                        <option value="2022W">2022W</option>
                        <option value="2022S">2022S</option>
                        <option value="2021W">2021W</option>
                        <option value="2021S">2021S</option>
                    </select>
                </div>
            </div>

            <div class="table-container">
                <table id="professorTable">
                    <thead>
                        <tr>
                            <th>PROFESSOR</th>
                            <th>FACULTY</th>
                            <th>COURSES</th>
                            <th>STUDENTS</th>
                            <th>AVERAGE</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
            <div id="paginationContainer"></div>
        </main>
    </div>

    <script type="module" src="/js/professors-page/main.js"></script>
    <script type="module" src="/js/theme.js"></script>
    <script type="module" src="/js/infoSettings.js"></script>
    <!-- Vercel Analytics -->
    <script type="module">
        import { injectSpeedInsights } from 'https://cdn.jsdelivr.net/npm/@vercel/speed-insights@1.0.0/+esm'
        import { inject } from 'https://cdn.jsdelivr.net/npm/@vercel/analytics@1.0.0/+esm'

        inject()
        injectSpeedInsights()
    </script>
</body>

</html>